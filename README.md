***Попасть в систему без пароля несколькими способами***  

**1. Описание задания**  

- попасть в систему без пароля несколькими способами
- установить систему с LVM, после чего переименовать VG
- добавить модуль в initrd  

**2. Выполенение задания.**  

Данное задание выполняется на стенди с убунту 22.04, в виртуальной машине VirtualBox  6.1  

** -1. Попасть в систему без пароля.**  

Первый способ.  
Для получения доступа к меню "Edit", меню редактирования загрузки, нажал, при старте ОС в окне виртуальной машине нажать клавишу "E".
Далее ищу строку, которая начинается с "linux16", в конце этой строки добавил "init=/bin/sh" и нажал сочетание клавиш ctrl+x.
После описанных действий получил доступ к ос при условие, что корневая файловая система находится в режиме RO.
Перемонтировал файловую рутовую файловую систему в режим RW, при помощи команды ``mount -o remount,rw``

Второй способ.  
В конце строки, которая начинается на linux16 добавил rd.break, далее нажал ctrl+x.
В этом случае опять получил корневую систему в смонтированную в только для чтения.
Ниже привожу команды, которые использовал, чтобы изменить пароль администратора:
```
[root@otuslinux ~]# mount -o remount,rw /sysroot
[root@otuslinux ~]# chroot /sysroot
[root@otuslinux ~]# passwd root
[root@otuslinux ~]# touch /.autorelabel
```
После этого перезагрузил пк и вошел в систему с новым паролем.

Третий способ.  
 
Исползуя знания о входе меню Edit, нажимаю клавишу "е" при загрузке. Нашел строку на linux16 изменил параметр ro  на rw init+/sysroot/bin/sh и нажал на ctrl+x.
После загрузки системы получил корневую файловую систему в режиме RW.  

** -2. Устновка системы с LVM, переименование VG** 

Посмотрел текущее состояние системы:
```
[root@otuslinux ~]# vgs
VG #PV #LV #SN Attr VSize VFree
VolGroup00 1 2 0 wz--n- <38.97g 0
```
Определилися с целью переименования, переименовал командой:
```
[root@otuslinux ~]# vgrename VolGroup00 OtusRoot
Volume group "VolGroup00" successfully renamed to "OtusRoot"
```
Далее отредактировал файл /etc/fstab, /etc/default/grub, /boot/grub2/grub.cfg.
Пересоздал initrd image, чтобы он знал новое название Volume Group  
```
[root@otuslinux ~]# mkinitrd -f -v /boot/initramfs-$(uname -r).img $(uname -r)
```
После перезагрузил ос и проверил успешное переименование. 
```
[root@otuslinux ~]# vgs
VG #PV #LV #SN Attr VSize VFree
OtusRoot 1 2 0 wz--n- <38.97g 0
```  
** -3. Добавление модуля в initrd.**  

Пересобрал образ initrd.
```
[root@otuslinux ~]# mkinitrd -f -v /boot/initramfs-$(uname -r).img $(uname -r)
или
[root@otuslinux ~]# dracut -f -v
```
Проверил какие модули загрузены в образ:
```
[root@otuslinux ~]# lsinitrd -m /boot/initramfs-$(uname -r).img | grep test
test
```
Перезагрузился и вручную выключил опцию rghb и quiet и увидел вывод в виде "пингвина".  


 
